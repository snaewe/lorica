# @file Makefile.unbind.am
#
# $Id: automake.mpd 1138 2007-02-02 17:51:14Z elliott_c $

if BUILD_EXCEPTIONS

BUILT_SOURCES += \
  TestC.cpp \
  TestC.h \
  TestC.inl \
  TestS.cpp \
  TestS.h \
  TestS.inl

CLEANFILES += \
  Test-stamp \
  TestC.cpp \
  TestC.h \
  TestC.inl \
  TestS.cpp \
  TestS.h \
  TestS.inl

TestC.cpp TestC.h TestC.inl TestS.cpp TestS.h TestS.inl: Test-stamp

Test-stamp: $(srcdir)/Test.idl $(TAO_IDL_DEP)
	$(TAO_IDL) $(TAO_IDLFLAGS) -Sa -St $(srcdir)/Test.idl
	@touch "$@"

noinst_PROGRAMS += server

server_CPPFLAGS = \
  -I$(ACE_ROOT) \
  -I$(ACE_BUILDDIR) \
  -I$(TAO_ROOT) \
  -I$(TAO_BUILDDIR)

server_SOURCES = \
  Servants.cpp \
  TestC.cpp \
  TestS.cpp \
  server.cpp \
  Servants.h \
  TestC.h \
  TestC.inl \
  TestS.h \
  TestS.inl

server_LDADD = \
  liblorica_Client.la \
  libTAO_PortableServer.la \
  libTAO_AnyTypeCode.la \
  libTAO.la \
  libACE.la

endif BUILD_EXCEPTIONS
