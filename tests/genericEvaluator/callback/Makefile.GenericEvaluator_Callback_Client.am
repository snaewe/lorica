# @file Makefile.GenericEvaluator_Callback_Client.am
#
# $Id: automake.mpd 1138 2007-02-02 17:51:14Z elliott_c $

if BUILD_CORBA_MESSAGING
if BUILD_EXCEPTIONS

BUILT_SOURCES += \
  TestC.cpp \
  TestC.h \
  TestC.inl \
  TestS.cpp \
  TestS.h \
  TestS.inl

CLEANFILES += \
  Test-stamp \
  TestC.cpp \
  TestC.h \
  TestC.inl \
  TestS.cpp \
  TestS.h \
  TestS.inl

TestC.cpp TestC.h TestC.inl TestS.cpp TestS.h TestS.inl: Test-stamp

Test-stamp: $(srcdir)/Test.idl $(TAO_IDL_DEP)
	$(TAO_IDL) $(TAO_IDLFLAGS) $(srcdir)/Test.idl
	@touch "$@"

noinst_PROGRAMS += client

client_CPPFLAGS = \
  -I$(ACE_ROOT) \
  -I$(ACE_BUILDDIR) \
  -I$(TAO_ROOT) \
  -I$(TAO_BUILDDIR)

client_SOURCES = \
  Client_Task.cpp \
  Receiver_i.cpp \
  Server_Task.cpp \
  TestC.cpp \
  TestS.cpp \
  client.cpp \
  Client_Task.h \
  Receiver_i.h \
  Server_Task.h \
  TestC.h \
  TestC.inl \
  TestS.h \
  TestS.inl

client_LDADD = \
  libTAO_DynamicInterface.la \
  libTAO_Messaging.la \
  libTAO_PI.la \
  libTAO_CodecFactory.la \
  libTAO_PortableServer.la \
  libTAO_Valuetype.la \
  libTAO_AnyTypeCode.la \
  libTAO.la \
  libACE.la

endif BUILD_EXCEPTIONS
endif BUILD_CORBA_MESSAGING
